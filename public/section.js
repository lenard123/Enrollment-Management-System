webpackJsonp([1],{218:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{id1:0}},created:function(){0!=this.$route.query.loading&&this.refreshSection()},methods:{hasSections:function(){var t=this.sections;for(var e in t)if(t[e].grade_id==this.id)return!0;return!1},removeSection:function(){var t=this.sections;for(var e in t)t[e].id==this.id1&&t.splice(e,1);this.id1=0},deleteSection:function(){this.util.hideModal("#delete_section_modal"),this.util.notify("Deleting section","loading");var t=this;axios.delete(this.data.API+"section/"+this.id1).then(function(e){$.notifyClose(),t.util.showResult(e,"success")&&t.removeSection()}).catch(function(e){$.notifyClose(),t.util.showResult(e,"error")})},refreshSection:function(){var t=this;this.util.notify("Refreshing sections","loading"),axios.get(this.data.API+"section").then(function(e){$.notifyClose(),t.data.sections=e.data.section,t.data.grades=e.data.grade}).catch(function(e){$.notifyClose(),t.util.showResult(e,"error")})}},computed:{id:function(){return this.$route.query.id?this.$route.query.id:this.grades[0]?this.grades[0].id:0},sections:{get:function(){return this.data.sections},set:function(t){var e=this.grades;for(var i in e)e[i].id==this.id&&(this.data.sections[i]=t)}},grades:function(){return this.data.grades}}}},219:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-md-10 col-md-offset-1 row"},[i("div",{staticClass:"col-md-3"},[i("ul",{staticClass:"list-group"},t._l(t.grades,function(e){return i("li",{staticClass:"list-group-item",class:{active:e.id==t.id},on:{click:function(i){return t.$router.replace({name:"Manage Section",query:{id:e.id}})}}},[t._v(t._s(e.name)+"\n\t  \t\t")])}),0)]),t._v(" "),i("div",{staticClass:"col-md-8 panel panel-default"},[i("div",{staticClass:"panel-body table-responsive"},[i("h4",[t._v("Manage Sections")]),i("hr"),t._v(" "),i("div",{staticClass:"form-group"},[i("button",{staticClass:"btn btn-success",on:{click:function(e){return t.$router.push({name:"Add Section",query:{id:t.id}})}}},[i("i",{staticClass:"fa fa-plus"}),t._v(" Add Section\n\t\t\t\t")]),t._v(" "),i("button",{staticClass:"btn btn-default",on:{click:function(e){return t.refreshSection()}}},[i("i",{staticClass:"fa fa-refresh"}),t._v(" Refresh Section\n\t\t\t\t")])]),t._v(" "),i("table",{staticClass:"table table-striped table-hover"},[t._m(0),t._v(" "),i("tbody",[t.hasSections()?t._e():i("tr",[i("th",{attrs:{colspan:"5"}},[t._v("No Sections")])]),t._v(" "),t._l(t.sections,function(e){return e.grade_id==t.id?i("tr",[i("td",[t._v(t._s(e.id))]),t._v(" "),i("td",[t._v(t._s(e.name))]),t._v(" "),i("td",[t._v(t._s(e.teacher))]),t._v(" "),i("router-link",{attrs:{to:{name:"Edit Section",params:{id:e.id}},tag:"td"}},[i("i",{staticClass:"fa fa-edit"}),t._v(" Edit\n\t\t\t\t\t\t")]),t._v(" "),i("td",{on:{click:function(i){t.id1=e.id,t.util.showModal("#delete_section_modal")}}},[i("i",{staticClass:"fa fa-trash"}),t._v(" Delete\n\t\t\t\t\t\t")]),t._v(" "),i("router-link",{attrs:{to:{name:"Section Student",params:{id:e.id}},tag:"td"}},[i("button",{staticClass:"btn btn-primary"},[t._v("View Students")])])],1):t._e()})],2)])])]),t._v(" "),i("modal",{attrs:{id:"delete_section_modal"}},[i("modal-header",[t._v("Delete Section")]),t._v(" "),i("modal-body",[i("h3",[t._v("Are you sure delete section?")])]),t._v(" "),i("modal-footer",[i("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.deleteSection()}}},[t._v("Delete")]),t._v(" "),i("button",{staticClass:"btn btn-default",attrs:{"data-dismiss":"modal"}},[t._v("Cancel")])])],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("ID")]),t._v(" "),i("th",[t._v("Name")]),t._v(" "),i("th",[t._v("Teacher")]),t._v(" "),i("th",[t._v("Edit")]),t._v(" "),i("th",[t._v("Delete")])])])}]}},220:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{loading:!1}},methods:{back:function(){var t=this;this.$router.push({name:"Manage Section",query:{id:this.grade_id,loading:!1}}),this.$nextTick(function(){return t.$router.replace({query:{id:t.grade_id}})})},submit:function(){if(!this.loading){var t=this;this.loading=!0,this.util.notify("Adding Section","loading"),axios.post(this.data.API+"section",$("#add_form").serialize()).then(function(e){$.notifyClose(),t.loading=!1,t.util.showResult(e,"success")&&(t.sections=e.data.section,t.back())}).catch(function(e){$.notifyClose(),t.loading=!1,t.util.showResult(e,"error")})}}},computed:{grades:{get:function(){return this.data.grades}},sections:{get:function(){return this.data.sections},set:function(t){this.data.sections.push(t)}},grade_id:{get:function(){return this.$route.query.id?this.$route.query.id:0},set:function(t){this.$router.replace({query:{id:t}})}}}}},221:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("panel-default",[i("h4",[t._v("Add Section")]),i("hr"),t._v(" "),i("form",{attrs:{id:"add_form"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"grade_id"}},[t._v("Grade")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.grade_id,expression:"grade_id"}],staticClass:"form-control",attrs:{name:"grade_id",required:""},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.grade_id=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"0",disabled:""}},[t._v("--- Select Grade ---")]),t._v(" "),t._l(t.grades,function(e){return i("option",{domProps:{value:e.id}},[t._v(t._s(e.name))])})],2)]),t._v(" "),i("form-group",[t._v("Name")]),t._v(" "),i("form-group",{attrs:{name:"teacher"}},[t._v("Teacher")]),t._v(" "),i("div",{staticClass:"form-group"},[i("input",{staticClass:"btn btn-success",attrs:{type:"submit",value:"Submit"}}),t._v(" "),i("input",{staticClass:"btn btn-default",attrs:{type:"button",value:"Back"},on:{click:function(e){return t.back()}}})])],1)])},staticRenderFns:[]}},222:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{loading:!1}},methods:{isSame:function(){var t=this.section;return t.name==$("[name=name]").val()&&t.teacher==$("[name=teacher]").val()&&t.grade_id==$("[name=grade_id]").val()},submit:function(){if(!this.loading){if(this.isSame())return this.back();this.loading=!0,this.util.notify("Updating Section","loading");var t=this;axios.put(this.data.API+"section/"+this.id,$("#edit_form").serialize()).then(function(e){t.loading=!1,$.notifyClose(),t.util.showResult(e,"success")&&(t.section=e.data.section,t.back())}).catch(function(e){t.loading=!1,$.notifyClose(),t.util.showResult(e,"error")})}},back:function(){var t=this,e=this.section.grade_id;this.$router.push({name:"Manage Section",query:{id:e,loading:!1}}),this.$nextTick(function(){t.$router.replace({name:"Manage Section",query:{id:e}})})}},computed:{grades:function(){return this.data.grades},section:{get:function(){var t=this.data.sections;for(var e in t)if(t[e].id==this.id)return t[e];return{}},set:function(t){var e=this.data.sections;for(var i in e)e[i].id==this.id&&e.splice(i,1,t)}},id:function(){return this.$route.params.id}}}},223:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("panel-default",[i("h4",[t._v("Update Section")]),i("hr"),t._v(" "),i("form",{attrs:{id:"edit_form"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[i("form-group",{attrs:{value:t.section.name}},[t._v("Name")]),t._v(" "),i("form-group",{attrs:{name:"teacher",value:t.section.teacher}},[t._v("Teacher")]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"grade"}},[t._v("Grade")]),t._v(" "),i("select",{staticClass:"form-control",attrs:{name:"grade_id"},domProps:{value:t.section.grade_id}},[i("option",{attrs:{value:"0",disabled:""}},[t._v("--- Select Grade ---")]),t._v(" "),t._l(t.grades,function(e){return i("option",{domProps:{value:e.id}},[t._v(t._s(e.name))])})],2)]),t._v(" "),i("div",{staticClass:"form-group"},[i("input",{staticClass:"btn btn-success",attrs:{type:"submit",value:"Submit"}}),t._v(" "),i("input",{staticClass:"btn btn-default",attrs:{type:"button",value:"Back"},on:{click:function(e){return t.back()}}})])],1)])},staticRenderFns:[]}},224:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["id"],data:function(){return{loading:!1,refresh:0}},computed:{section:function(){var t=this;return this.data.sections.find(function(e){return e.id==t.id})}}}},225:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("panel-default",[i("h4",[t._v("Section : "+t._s(t.section.name))]),t._v(" "),i("h5",[t._v("Teacher : "+t._s(t.section.teacher))]),t._v(" "),i("hr"),t._v(" "),i("div",{staticClass:"form-group"},[i("button",{staticClass:"btn btn-default",on:{click:function(e){return t.$router.go(-1)}}},[t._v("Back")]),t._v(" "),i("button",{staticClass:"btn btn-default",on:{click:function(e){t.refresh++}}},[i("i",{staticClass:"fa fa-refresh"}),t._v(" Refresh\n\t\t")])]),t._v(" "),i("table-student",{attrs:{src:t.data.API+"student/section/"+t.id,refresh:t.refresh}})],1)},staticRenderFns:[]}},243:function(t,e,i){var n=i(2)(i(218),i(219),!1,null,null,null);t.exports=n.exports},244:function(t,e,i){var n=i(2)(i(220),i(221),!1,null,null,null);t.exports=n.exports},245:function(t,e,i){var n=i(2)(i(222),i(223),!1,null,null,null);t.exports=n.exports},246:function(t,e,i){var n=i(2)(i(224),i(225),!1,null,null,null);t.exports=n.exports}});
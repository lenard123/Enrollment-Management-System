webpackJsonp([3],{212:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{id:0}},created:function(){0!=this.$route.query.loading&&this.refreshGrade()},methods:{removeGrade:function(){var t=this.data.grades;for(var e in t)t[e].id==this.id&&t.splice(e,1)},deleteGrade:function(){this.util.hideModal("#delete_grade_modal"),this.util.notify("Deleting grade","loading");var t=this;axios.delete(this.data.API+"grade/"+this.id).then(function(e){$.notifyClose(),t.util.showResult(e,"success")&&t.removeGrade()}).catch(function(e){$.notifyClose(),t.util.showResult(e,"error")})},getRequirement:function(t){var e=this.data.requirements;for(var a in e)if(e[a].id==t)return e[a].name;return""},refreshGrade:function(){var t=this;this.util.notify("Refreshing Grade","loading"),axios.get(this.data.API+"grade").then(function(e){$.notifyClose(),t.data.grades=e.data.grade,t.data.requirements=e.data.requirement}).catch(function(e){$.notifyClose(),t.util.showResult(e,"error")})}}}},213:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("panel-default",{attrs:{"l-class":"table-responsive"}},[a("h4",[t._v("Manage Grade levels")]),a("hr"),t._v(" "),a("div",{staticClass:"form-group"},[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"Add Grade"}}},[a("i",{staticClass:"fa fa-plus"}),t._v(" Add Grade\n\t\t")]),t._v(" "),a("button",{staticClass:"btn btn-default",on:{click:function(e){return t.refreshGrade()}}},[a("i",{staticClass:"fa fa-refresh"}),t._v(" Refresh Grade\n\t\t")])],1),t._v(" "),a("table",{staticClass:"table table-hover table-striped"},[a("thead",[a("tr",[a("th",[t._v("ID")]),t._v(" "),a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Requirements")]),t._v(" "),a("th",[t._v("Edit")]),t._v(" "),a("th",[t._v("Delete")]),t._v(" "),a("th")])]),t._v(" "),a("tbody",[t.data.grades.length<1?a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("No Grades")])]):t._e(),t._v(" "),t._l(t.data.grades,function(e){return a("tr",[a("td",[t._v(t._s(e.id))]),t._v(" "),a("td",[t._v(t._s(e.name))]),t._v(" "),e.requirements?a("td",{class:{dropup:e.requirements.length>1}},[e.requirements.length<1?a("span",[t._v("No Requirements")]):t._e(),t._v(" "),1==e.requirements.length?a("span",[t._v("\n\t\t\t\t\t\t"+t._s(t.getRequirement(e.requirements[0].requirement_id))+"\n\t\t\t\t\t")]):t._e(),t._v(" "),e.requirements.length>1?a("span",{staticClass:"dropdown-toggle",attrs:{id:"menu1","data-toggle":"dropdown"}},[t._v("\n\t\t\t\t\t\trequirements "),a("span",{staticClass:"caret"})]):t._e(),t._v(" "),e.requirements.length>1?a("ul",{staticClass:"dropdown-menu",attrs:{role:"menu","aria-labelledby":"menu1"}},t._l(e.requirements,function(e){return a("li",{attrs:{role:"presentation"}},[a("a",{attrs:{role:"menuitem",tabindex:"-1",href:"#"}},[t._v("\n\t\t\t\t      \t\t"+t._s(t.getRequirement(e.requirement_id))+"\n\t\t\t\t      \t")])])}),0):t._e()]):a("td",[t._v("No Requirements")]),t._v(" "),a("router-link",{attrs:{tag:"td",to:{name:"Edit Grade",params:{id:e.id}}}},[a("i",{staticClass:"fa fa-edit"}),t._v(" Edit\n\t\t\t\t")]),t._v(" "),a("td",{on:{click:function(a){t.id=e.id,t.util.showModal("#delete_grade_modal")}}},[a("i",{staticClass:"fa fa-trash"}),t._v(" Delete\n\t\t\t\t")]),t._v(" "),a("router-link",{attrs:{tag:"td",to:{name:"Manage Section",query:{id:e.id}}}},[a("button",{staticClass:"btn btn-primary"},[t._v("View Sections")])])],1)})],2)]),t._v(" "),a("modal",{attrs:{id:"delete_grade_modal"}},[a("modal-header",[t._v("Delete Grade")]),t._v(" "),a("modal-body",[a("h3",[t._v("Are you sure to delete grade?")])]),t._v(" "),a("modal-footer",[a("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.deleteGrade()}}},[t._v("Delete")]),t._v(" "),a("button",{staticClass:"btn btn-default",attrs:{"data-dismiss":"modal"}},[t._v("Cancel")])])],1)],1)},staticRenderFns:[]}},214:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{loading:!1}},methods:{back:function(){var t=this;this.$router.push({name:"Manage Grade",query:{loading:!1}}),this.$nextTick(function(){return t.$router.push({name:"Manage Grade"})})},submit:function(){if(!this.loading){this.loading=!0;var t=this;this.util.notify("Adding grade","loading"),axios.post(this.data.API+"grade",this.getData()).then(function(e){$.notifyClose(),t.loading=!1,t.util.showResult(e,"success")&&(t.data.grades.push(e.data.grade),t.back())}).catch(function(e){$.notifyClose(),t.loading=!1,t.util.showResult(e,"error")})}},getData:function(){var t={};return t.name=$("[name=name]").val(),t.requirements=this.getRequirements(),t},getRequirements:function(){var t=$("[name=requirements]").toArray(),e=[];for(var a in t)t[a].checked&&e.push(t[a].value);return e}}}},215:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("panel-default",[a("h4",[t._v("Add Grade Level")]),a("hr"),t._v(" "),a("form",{attrs:{id:"add_form"},on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("form-group",[t._v("Grade Name")]),t._v(" "),t.data.requirements.length>=1?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"requirements"}},[t._v("Requirements")]),a("br"),t._v(" "),t._l(t.data.requirements,function(e){return a("label",{staticClass:"checkbox-inline"},[a("input",{attrs:{type:"checkbox",name:"requirements"},domProps:{value:e.id}}),t._v("\n\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t")])})],2):t._e(),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{staticClass:"btn btn-success",attrs:{type:"submit",value:"Submit"}}),t._v(" "),a("input",{staticClass:"btn btn-default",attrs:{type:"button",value:"Back"},on:{click:function(e){return t.back()}}})])],1)])},staticRenderFns:[]}},216:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={created:function(){var t=this;this.$nextTick(function(){var e=t.grade.requirements;for(var a in e)$("[value=".concat(e[a].requirement_id,"][type=checkbox]")).attr("checked",!0)})},data:function(){return{loading:!1}},methods:{back:function(){var t=this;this.$router.push({name:"Manage Grade",query:{loading:!1}}),this.$nextTick(function(){return t.$router.push({name:"Manage Grade"})})},submit:function(){if(!this.loading){this.loading=!0;var t=this;this.util.notify("Updating grade","loading"),axios.put(this.data.API+"grade/"+this.id,this.getData()).then(function(e){$.notifyClose(),t.loading=!1,t.util.showResult(e,"success")&&(t.grade=e.data.grade,t.back())}).catch(function(e){$.notifyClose(),t.loading=!1,t.util.showResult(e,"error")})}},getData:function(){var t={};return t.name=$("[name=name]").val(),t.requirements=this.getRequirements(),t},getRequirements:function(){var t=$("[name=requirements]").toArray(),e=[];for(var a in t)t[a].checked&&e.push(t[a].value);return e}},computed:{grade:{get:function(){var t=this.data.grades;for(var e in t)if(t[e].id==this.id)return t[e];return{}},set:function(t){var e=this.data.grades;for(var a in e)e[a].id==this.id&&(e[a]=t)}},id:function(){return this.$route.params.id}}}},217:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("panel-default",[a("h4",[t._v("Update Grade Level")]),a("hr"),t._v(" "),a("form",{attrs:{id:"edit_form"},on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("form-group",{attrs:{value:t.grade.name}},[t._v("Grade Name")]),t._v(" "),t.data.requirements.length>=1?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"requirements"}},[t._v("Requirements")]),a("br"),t._v(" "),t._l(t.data.requirements,function(e){return a("label",{staticClass:"checkbox-inline"},[a("input",{attrs:{type:"checkbox",name:"requirements"},domProps:{value:e.id}}),t._v("\n\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t")])})],2):t._e(),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{staticClass:"btn btn-success",attrs:{type:"submit",value:"Submit"}}),t._v(" "),a("input",{staticClass:"btn btn-default",attrs:{type:"button",value:"Back"},on:{click:function(e){return t.back()}}})])],1)])},staticRenderFns:[]}},240:function(t,e,a){var n=a(2)(a(212),a(213),!1,null,null,null);t.exports=n.exports},241:function(t,e,a){var n=a(2)(a(214),a(215),!1,null,null,null);t.exports=n.exports},242:function(t,e,a){var n=a(2)(a(216),a(217),!1,null,null,null);t.exports=n.exports}});